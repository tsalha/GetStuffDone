<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Roster - Get Stuff Done Committee</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    /* THEME â€” update these once you confirm exact HEX from school site */
    :root{
      --brand-primary:#1d3557; /* TODO: replace with school primary */
      --brand-accent:#e0b000;  /* TODO: replace with school accent */
      --text:#0b0b0b; --muted:#555; --bg:#ffffff; --card:#f7f7f8; --ok:#1b8a5a; --warn:#a65e00;
      --radius:18px; --pad:16px; --gap:12px; --shadow:0 6px 20px rgba(0,0,0,.06);
    }
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:var(--bg);color:var(--text)}
    header{padding:28px var(--pad); background:linear-gradient(180deg,var(--brand-primary),#0e223a); color:white}
    .wrap{max-width:920px;margin:0 auto;padding:0 var(--pad)}
    h1{font-size:28px;margin:0 0 6px}
    .sub{opacity:.9}
    .event{background:var(--card); border-radius:var(--radius); padding:var(--pad); box-shadow:var(--shadow); margin:18px 0}
    .event h3{margin:0 0 6px}
    .grid{display:grid; gap:var(--gap)}
    .btn{display:inline-block; padding:10px 14px; border-radius:12px; border:1px solid #ddd; background:white; cursor:pointer; font-weight:600}
    .btn.primary{background:var(--brand-accent); border:none}
    .pill{display:inline-block; padding:4px 10px; border-radius:999px; background:#eef; margin-left:8px; font-size:12px}
    .names{display:flex; flex-wrap:wrap; gap:6px; margin-top:6px}
    .name{background:white; border:1px solid #eee; padding:6px 10px; border-radius:999px}
    form.signup{display:grid; gap:8px; grid-template-columns:1fr 1fr}
    form.signup input{padding:10px;border-radius:10px;border:1px solid #ccc}
    form.signup .full{grid-column:1/-1}
    .notice{font-size:12px; color:var(--muted)}
    .capacity{font-size:13px; color:var(--muted)}
    .adminbar{position:sticky; top:0; background:#111; color:white; padding:8px var(--pad)}
    .hide{display:none}
    #rosterList {
      list-style: none;
      padding: 0;
      margin: 0;
      font-size: clamp(10px, 4vw, 14px); 
    }
    #rosterList li.not-active {
      text-decoration: line-through;
      opacity: 0.6 }
  </style>
  
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Get Stuff Done Committee</h1>
      <div class="sub">Roster</div>
    </div>
  </header>

  <main class="wrap" style="margin-top: 24px;">

    <div style="margin-top: 20px;">
      <a href="#" class="btn">Subscribe (or subscribe a friend)</a>
      <a href="#" class="btn">Unsubscribe</a>
    </div>
    <main class="wrap" style="margin-top: 24px;">

    <!-- Roster Container -->
    <div id="rosterContainer" style="margin-top: 24px;">
      <ul id="rosterList"></ul>
    </div>

</main>

<script>
  const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbw4T5tw1oO56KLYyIrkyyrAC-AUdht_mN2jwSSqIptd13he7VrcnYNnJ1E_veZziToO/exec?type=roster';

  async function fetchRoster() {
    try {
      const res = await fetch(SCRIPT_URL);
      const data = await res.json();

      const rosterList = document.getElementById('rosterList');
      rosterList.innerHTML = '';

      if (!data.ok || !data.roster) {
        rosterList.innerHTML = '<li style="color:red;">Failed to load roster.</li>';
        return;
      }

      data.roster.forEach(member => {
        const firstName = member['First Name'] || '';
        const lastName = member['Last Name'] || '';
        const status = member['status'] || 'Active';

        const li = document.createElement('li');
        li.textContent = `${firstName} ${lastName}`;
        if (status.toLowerCase() === 'not active') li.classList.add('not-active');

        rosterList.appendChild(li);
      });

    } catch (err) {
      console.error(err);
      document.getElementById('rosterList').innerHTML = '<li style="color:red;">Error fetching roster.</li>';
    }
  }

  fetchRoster();
</script>

    <footer>
    <div class="wrap">
      <p>&copy; Get Stuff Done Committee</p>
    </div>
  </footer>
</body>
</html>

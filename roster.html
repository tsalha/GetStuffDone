<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Roster - Get Stuff Done Committee</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    /* THEME â€” update these once you confirm exact HEX from school site */
    :root{
      --brand-primary:#1d3557; /* TODO: replace with school primary */
      --brand-accent:#e0b000;  /* TODO: replace with school accent */
      --text:#0b0b0b; --muted:#555; --bg:#ffffff; --card:#f7f7f8; --ok:#1b8a5a; --warn:#a65e00;
      --radius:18px; --pad:16px; --gap:12px; --shadow:0 6px 20px rgba(0,0,0,.06);
    }
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:var(--bg);color:var(--text)}
    header{padding:28px var(--pad); background:linear-gradient(180deg,var(--brand-primary),#0e223a); color:white}
    .wrap{max-width:920px;margin:0 auto;padding:0 var(--pad)}
    h1{font-size:28px;margin:0 0 6px}
    .sub{opacity:.9}
    .event{background:var(--card); border-radius:var(--radius); padding:var(--pad); box-shadow:var(--shadow); margin:18px 0}
    .event h3{margin:0 0 6px}
    .grid{display:grid; gap:var(--gap)}
    .btn{display:inline-block; padding:10px 14px; border-radius:12px; border:1px solid #ddd; background:white; cursor:pointer; font-weight:600}
    .btn.primary{background:var(--brand-accent); border:none}
    .pill{display:inline-block; padding:4px 10px; border-radius:999px; background:#eef; margin-left:8px; font-size:12px}
    .names{display:flex; flex-wrap:wrap; gap:6px; margin-top:6px}
    .name{background:white; border:1px solid #eee; padding:6px 10px; border-radius:999px}
    form.signup{display:grid; gap:8px; grid-template-columns:1fr 1fr}
    form.signup input{padding:10px;border-radius:10px;border:1px solid #ccc}
    form.signup .full{grid-column:1/-1}
    .notice{font-size:12px; color:var(--muted)}
    .capacity{font-size:13px; color:var(--muted)}
    .adminbar{position:sticky; top:0; background:#111; color:white; padding:8px var(--pad)}
    .hide{display:none}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Get Stuff Done Committee</h1>
      <div class="sub">Roster</div>
    </div>
  </header>

  <main class="wrap" style="margin-top: 24px;">

    <div style="margin-top: 20px;">
      <a href="#" class="btn">Subscribe (or subscribe a friend)</a>
      <a href="#" class="btn">Unsubscribe</a>
    </div>
    <main class="wrap" style="margin-top: 24px;">

  <!-- Roster Container -->
  <div id="rosterContainer" style="margin-top: 32px;">
    <div id="rosterList" class="grid" style="grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));"></div>
  </div>

</main>

<script>
  // Replace with your Apps Script deployment URL
  const SCRIPT_URL = 'https://script.google.com/macros/s/YOUR_DEPLOYMENT_ID/exec?type=roster';

  async function fetchRoster() {
    try {
      const res = await fetch(SCRIPT_URL);
      const data = await res.json();

      if (!data.ok || !data.roster) {
        document.getElementById('rosterList').innerHTML = '<p style="color:red;">Failed to load roster.</p>';
        return;
      }

      const rosterList = document.getElementById('rosterList');
      rosterList.innerHTML = ''; // clear any previous content

      data.roster.forEach(member => {
        const card = document.createElement('div');
        card.className = 'event'; // reusing your existing card style
        card.innerHTML = `
          <h3>${member.Name || member.name || 'Unnamed'}</h3>
          <p><strong>Role:</strong> ${member.Role || member.role || 'Member'}</p>
          ${member.Email ? `<p><strong>Email:</strong> <a href="mailto:${member.Email}">${member.Email}</a></p>` : ''}
        `;
        rosterList.appendChild(card);
      });

    } catch (err) {
      console.error(err);
      document.getElementById('rosterList').innerHTML = '<p style="color:red;">Error fetching roster.</p>';
    }
  }

  // Load roster on page load
  fetchRoster();
</script>

  <footer>
    <div class="wrap">
      <p>&copy; Get Stuff Done Committee</p>
    </div>
  </footer>
</body>
</html>

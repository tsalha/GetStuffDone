<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Get Stuff Done — St. Chris Dads</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <div class="wrap header-content">
      <img src="GSD_logo.png" alt="Get Stuff Done Logo" class="logo">
      <div class="header-text">
        <h1>Get Stuff Done Committee</h1>
        <div class="sub">Volunteer opportunities</div>
        <div style="margin-top: 16px;">
          <a href="https://www.scgetstuffdone.com/index.html" class="btn">
            Events
          </a>
          <a href="https://www.scgetstuffdone.com/roster.html" class="btn">
            Roster (click here to subscribe/unsubscribe)
          </a>
          <a href="https://www.scgetstuffdone.com/archive.html" class="btn">
            Events archive
          </a>
        </div>
      </div>
    </div>
  </header>

<main class="wrap">
  <h2>Photo Gallery</h2>
  <div id="gallery" class="gallery"></div>
</main>
  
<div id="lightbox" class="lightbox">
  <span class="arrow prev">&#10094;</span>
  <div class="lightbox-content">
    <img id="lightbox-img" src="" alt="Enlarged photo">
    <div id="lightbox-caption" class="caption"></div>
  </div>
  <span class="arrow next">&#10095;</span>
</div>
  
<script>
const images = [
  "2025 Traveler Challenge 1.jpg",
  "2025 Traveler Challenge 2.jpg"
];

const gallery = document.getElementById("gallery");
const lightbox = document.getElementById("lightbox");
const lightboxImg = document.getElementById("lightbox-img");
const prev = document.querySelector(".lightbox .prev");
const next = document.querySelector(".lightbox .next");

let currentIndex = 0;

// Create gallery
images.forEach((name, index) => {
  // Container for image + caption
  const container = document.createElement("div");
  container.style.textAlign = "center"; // center image & text
  container.style.cursor = "pointer"; // indicate it's clickable

  // Create image
  const img = document.createElement("img");
  img.src = `pics/${name}`;
  img.alt = name;
  img.style.maxWidth = "200px";
  img.style.borderRadius = "8px";
  img.style.boxShadow = "0 2px 6px rgba(0,0,0,0.2)";
  
  // Add click event for lightbox
  img.addEventListener("click", () => {
    currentIndex = index;
    showLightbox();
  });

  // Create caption below thumbnail
  const caption = document.createElement("div");
  caption.textContent = name.replace(/\.[^/.]+$/, ""); // remove file extension
  caption.style.marginTop = "6px";
  caption.style.fontSize = "0.9rem";
  caption.style.color = "#333";

  // Append image + caption to container
  container.appendChild(img);
  container.appendChild(caption);

  // Add container to gallery
  gallery.appendChild(container);
});

const caption = document.getElementById("lightbox-caption");

function showLightbox() {
  // Set image
  lightboxImg.src = images[currentIndex].startsWith("pics/") ? images[currentIndex] : `pics/${images[currentIndex]}`;
  lightbox.style.display = "flex";

  // Set caption: filename and position
  const fullName = images[currentIndex].replace(/^.*[\\\/]/, '');  // remove path
  const cleanName = fullName.replace(/\.[^/.]+$/, "");              // remove extension
  caption.textContent = `${cleanName} — ${currentIndex + 1} of ${images.length}`;
}

// Hide lightbox when clicking outside image
lightbox.addEventListener("click", (e) => {
  if (e.target === lightbox) {
    lightbox.style.display = "none";
  }
});

// Navigate
prev.addEventListener("click", (e) => {
  e.stopPropagation(); // prevent closing
  currentIndex = (currentIndex - 1 + images.length) % images.length;
  showLightbox();
});

next.addEventListener("click", (e) => {
  e.stopPropagation();
  currentIndex = (currentIndex + 1) % images.length;
  showLightbox();
});

// Optional: use arrow keys
document.addEventListener("keydown", (e) => {
  if (lightbox.style.display === "flex") {
    if (e.key === "ArrowLeft") prev.click();
    if (e.key === "ArrowRight") next.click();
    if (e.key === "Escape") lightbox.style.display = "none";
  }
});
</script>

</body>
</html>
